\chapter{Literature Survey}
% \begin{table}
% \begin{center}
% \begin{tabular}{|p{3cm}|p{3cm}|p{2cm}|p{4cm}|p{3cm}|}
% \hline
% \textbf{Title} & \textbf{Methodology} & \textbf{Results} & \textbf{Merits}  & \textbf{Demerits}\\
% \hline
% Violence detection using Oriented Violent Flows, 2016 [1] & AdaBoost and SVM classifier. & 88.00 percent & Feature representation model, which depicts the information involving both the motion magnitude and motion orientation. & Detection point where the behaviour is changing from normal to abnormal is time consuming.\\
% \hline
% Violent Flows:Real-Time Detection of Violent Crowd Behaviour, 2012 [2] & Global descriptors and SVM classifier & 5-fold cross validation: 81.30 percent & The algorithm detected far more violent scenes correctly, compared to existing work. It was furthermore far faster to detect the violence, typically in less than a second from its outbreak & Only magnitude of the flow vectors is considered, but the direction is not.\\
% \hline

% Automatic Fight
% Detection in
% Surveillance
% Videos, 2016 [3] & 
% Motion magnitude,
% motion acceleration
% and strength of
% motion region
% relationship,
% collectively known as
% motion signals & 
% 10 fold cross
% validation:
% 82.70 percent & 
% Difference
% between
% stimulated
% fights and real
% fights.
% Doesn’t rely
% on high level
% behaviour
% recognition,
% Thus applicable to Low quality videos. & 
%  Less accuracy is
% achieved when
% testing with real
% fight scenarios\\
% \hline

% Online real-time
% crowd behaviour
% detection in video
% sequences, 2015 [4] & 
% Instant entropy and
% temporal occupancy
% variation & 
% 96 percent
% Works
% without the
% need of
% training phase. &
% Computational
% speed (FPS) is
% varying for
% different
% datasets.\\
% \hline
% \end{tabular}
% \end{center}
% \caption{Literature Survey}
% \end{table}
Literature survey is the most important step in software development process. Before developing the tool it is necessary to determine the time factor, economy and company strength. Once these things are satisfied, then next steps are to determine which operating system and language can be used for developing the tool. Once the programmers start building the tool, the programmers need lot of external support. This support can be obtained from senior programmers, from book or from websites. Before building the system above considerations are taken into account for developing.

\section{What is a video}
Video is a sequence of frames that has fixed frame width and height throughout its duration.
Video is an electronic medium for the recording, copying, playback,
broadcasting, and display of moving visual media.
\par
Video initially was supposed to be played in Mechanical TVs, with the advancement in technology , Flat Screened LEDs and LCDs are also available. Video have various properties such as display resolution, aspect ratio,
refresh rate, color capabilities and other qualities. Analog and digital formats exist and
can be carried on a variety of media such as radio broadcast, magnetic tape, optical
discs, computer files, and network streaming.

\section{What is Video Processing}
In pure electrical engineering, video processing is something that is done through input analog signal manipulation through filters and other inputs. \par Video processing techniques are used in devices such as:
\begin{itemize} \item television sets,
\item VCRs, \item DVDs, \item video codecs,\item video players, \item video scalers and other devices.
\end{itemize} 
\section{What is crowd}
A crowd is a large group of people that are gathered or considered together. The
term "the crowd" may sometimes refer to the lower orders of people in general (the
mob). A crowd may be definable through a common purpose or set of emotions, such as
at a political rally, a sports event, or during looting (this is known as a psychological
crowd), or may simply be made up of many people going about their business in a busy
area.\par
The term crowd is sometimes defined in contrast to other group nouns for
collections of humans or animals, such as aggregation, audience, group, mass, mob,
populous, public, rabble and throng. Opinion researcher Vincent Price compares masses
and crowds, saying that "Crowds are defined by their shared emotional experiences, but
masses are defined by their interpersonal isolation."
\subsection{Analysis of Crowd}
Crowd Analysis is an important part aspect real time surveillance since rarely we see CCTV cameras in private areas. Areas under surveillance(public area) usually have a lot of crowd.
Crowd analysis involves the analysis of data gained by studying the natural
movement of groups. Masses of bodies, particularly humans, are under observation
of these crowd tracking analyses that include how a particular a group of people move and when a
movement pattern changes. The data is implemented in order to predict future crowd
movement, crowd density, and potential events such as an evacuation route.
Applications of crowd analysis can range from video game crowd simulation to security
and surveillance.
\par
Due to exponential population growth, crowd analysis has become a major interest in social
and technical areas of study. Crowd analysis is being used to develop stratergies that will help us to perform a safe evacuation and a quicker response in times of distress. 
\subsection{Challenges faced in crowd behaviour analysis}
Crowd analysis is a critical problem in understanding crowd behavior for
surveillance applications. The current method is manually screening video feeds from
several sources. Video analytics allows the automatic detection of events of interest, but
it faces many challenges because of highly unpredecitable crowd motions and occlusions.\par
Video analysis and scene understanding usually involve object detection,
tracking and behavior recognition. For crowded scenes, due to extreme distortions, severe
occlusions and ambiguities, the conventional methods without special considerations are
not appropriate. This makes it very challenging to figure out an appropriate level of granularity
to model the dynamics of a crowd. Another challenge in crowded scene analysis is that
the specific crowd behaviors needed to be detected and classified may be both rare and
subtle , and in most surveillance scenarios, these behaviors have few examples to learn.
The problem of occlusion is one of the main reasons why computer vision is
hard in general. Specifically, this is much more problematic in Object Tracking.
Occlusion means that there is something you want to see, but can't due to some property
of your sensor setup, or some event. For tasks which tracks objects (people, cars, ...)
then occlusion occurs if an object that is being tracked is hidden (occluded) by another
object. Like two persons walking past each other as shown in the Fig. 2.1, or a car that drives under a bridge.
The problem in this case is what you do when an object disappears and reappears again.
\begin{figure}[H]
\centering
\includegraphics[scale = 0.6]{occlusion.png}
\caption{Occlusion Problem}
\end{figure}
Crowd scenes contain some uncertainities such as change of density, shape,
boundaries of the crowd. They do not define how to behave or share clear expectations
on what will happen. They often feel something must be done right away to address
their common concern. Attitudes and ideas about the common concern spread very
quickly among crowd members. They often do and say things that they would normally
not do, and they go along with the actions of others in the crowd.\par
Certain crowd behaviours are normal in one scenario but may become hazards in
another. For example as shown in Fig. 2.2, running in a marathon  can be
considered as a normal crowd behaviour but whereas running in a shopping mall as in Fig. 2.3 or any
such rare places can be considered as an abnormal behaviour.
\begin{figure}[H]
\centering
\includegraphics[scale = 0.7]{crowd_marathon.png}
\caption{Crowd Running in Marathon}
\end{figure}
\begin{figure}[H]
\centering
\includegraphics[scale = 0.7]{crowd_panic_mall.png}
\caption{Crowd Running in a Mall}
\end{figure}
\section{Optical Flow}
Optical flow or optic flow is the pattern of apparent motion of objects, surfaces,
and edges in a visual scene caused by the relative motion between an observer and a
scene. The concept of optical flow was introduced by the American psychologist James
J. Gibson in the 1940s to describe the visual stimulus provided to animals moving
through the world. Gibson stressed the importance of optic flow for affordance
perception, the ability to discern possibilities for action within the environment.\par
Followers of Gibson and his ecological approach to psychology have further demonstrated the role of the optical flow stimulus for the perception of movement by
the observer in the world; perception of the shape, distance and movement of objects in
the world; and the control of locomotion.
The term optical flow is also used by roboticists, encompassing related
techniques from image processing and control of navigation including motion detection,
object segmentation, time-to-contact information, focus of expansion calculations,
luminance, motion compensated encoding, and stereo disparity measurement.

\subsection{Estimation}
Sequences of ordered images allow the estimation of motion as either
instantaneous image velocities or discrete image displacements. Fleet and Weiss
provide a tutorial introduction to gradient based optical flow. John L. Barron, David J.
Fleet, and Steven Beauchemin provide a performance analysis of a number of optical
flow techniques. It emphasizes the accuracy and density of measurements.\par
The optical flow methods try to calculate the motion between two image frames
which are taken at consecutive time frames at every voxel position. These methods are
called differential since they are based on local Taylor series approximations of the
image signal; that is, they use partial derivatives with respect to the spatial and temporal
coordinates. \par
For a 2D+t dimensional case (3D or n-D cases are similar) a voxel at location (x,y,t)
with intensity I(x,y,t) will have moved between the two image frames, and the following
brightness constancy constraint can be given:
\begin{equation}
I(x,y,t) = T(x + \Delta x, y + \Delta y, t + \Delta t)
\end{equation}
\begin{equation}
\frac{\partial I}{\partial x}V_x + \frac{\partial I}{\partial y}V_y + \frac{\partial I}{\partial t} = 0
\end{equation}

\section{Violent Flow(ViF) Descriptors}
For a sequence of frames, Violent Flows(ViF) Descriptor are produced by first estimating Optical Flow. Optical Flow gives a flow vector of a pixel in current frame matching it with a pixel in next frame. Magnitudes of these flow vectors are calculated which are arbitrary components which are dependent on frame resolution, different motions in different spatio-temporal locations, etc. By comparing magnitudes, meaningful measures of the significance of observed motion magnitudes in each frame compared to its predecessor are obtained. Binary indicators for each pixel is obtained by comparing change of magnitudes of each pixel with mean change of magnitudes of a frame. Average of these binary indicators are calculated for each pixel over all frames. Later these average values of binary indicators are divided into M * N non-overlapping cells in which each cell contain magnitude change frequencies. Those frequencies in the cells are represented by fixed-sized histogram and all the histograms are concantenated to form a single descriptor vector. In a simple way, ViF descriptor is a vector of frequencies quantized values of binaty indicators. 

\section{Oriented Violent Flows(OViF)}
ViF doesn't consider difference in direction of the same pixel in sequential frames and treat there is no difference if pixels differ only in directions. OViF considers direction of the pixel and it is calculated by using
\begin{equation}
\phi_{i,j,t} = arctan(V^y_{i,j,t}/V^x_{i,j,t}) 
\end{equation}
Here, t means the t-th frame in a video sequence, and (i, j) indicates the pixel location. Then, for each flow map which corresponds to a frame, we partition it into M × N non-overlapping blocks. After this, since $360^0$ can be equally divided into B sectors and each sector corresponds to a bin of a histogram, the flow-vector magnitude $|V_{i,j,t}|$ is added into the bin where the flow-vector angle $\phi_{i,j,t}$ locates.For each block, we get a histogram and these histograms are then concatenated into a single vector H, which is called Histogram of Oriented Optical Flow (HOOF) with X-dimensions, $X = M \times N \times B$.
\par
Subsequently, the HOOF vectors are used to obtain binary indicators:
\begin{equation}
b_{x,t} = \begin{cases}
\text {1,\quad}if\quad |H_{x,t} - H_{x,t-1}| \geq \theta\\
\text {0\quad}   \quad otherwise
\end{cases}
\end{equation}
Here, x is the x-th dimension of the feature vector H, and $\theta$ is the average value of $|H_{x,t}-H_{x,t-1}|$, x$\subseteq$[1,X]. The above equation explicitly reflects the magnitude changes in different sectors. The mean magnitude-change vector is donated as:
\begin{equation}
\overline b_{x} = \frac{1}{T}\sum_{t}b_{x,t}
\end{equation}
Finally, b̄ is the final OViF vector for a sequence of frames, which counts the motion magnitude change frequencies in both direction sectors and spatial regions.